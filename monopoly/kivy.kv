#: import NoTransition kivy.uix.screenmanager.NoTransition
#: import Window kivy.core.window.Window

WindowManager:

    Start:
        id: start
    
    Home:
        id: home

    Lobby:
        id: lobby

    Game:
        id: game
    
    Feedback:
        id: feedback


<Start>:
    name: "start"

    GridLayout:
        rows: 2
        padding: [root.width//15, 0, root.width//15, root.height//30]

        Image:
            source: 'assets/background/monopoly_logo.png'
            size: self.texture_size
            size_hint_y: 4

        Button:
            text: "[b][color=#ffffff]Start Game[/b][/color]"
            background_normal: "assets/buttons/red.png"
            markup: True
            font_size: self.width // 20
            outline_color: 0,0,0,1
            outline_width: '2sp'
            canvas.before:
                Color:
                    rgba: .1, .1, .1, 1
                Line:
                    width: 5
                    rectangle: self.x, self.y, self.width, self.height
            on_press:
                app.root.transition = NoTransition()
            on_release:
                app.root.current = "home"


<Feedback>:
    name: "feedback"

    GridLayout:
        rows: 3
        padding: [self.width // 7, self.width // 50, self.width // 7, self.width // 50]

        Label:
            text: '[b][color=#FF7F00]Help & Feedback[/color][/b]'
            font_size: self.width // 15
            color: [1, 1, 1, 1]
            markup: True
            size_hint_y: 1

        Label:
            text: '[b][color=#FF7F00]text[/color][/b]'
            markup: True
            size_hint_y: 4

        GridLayout:
            cols: 2
            spacing: [self.width // 15, 0]

            Button:
                text: "[b]Back[/b]"
                background_normal: "assets/buttons/red.png"
                markup: True
                font_size: self.width // 15
                on_release:
                    app.root.current = "home"


            Button:
                text: "[b]Contact us[/b]"
                background_normal: "assets/buttons/red.png"
                markup: True
                font_size: self.width // 15
                on_release:
                    root.send_email(None)


<Home>:
    name: "home"

    GridLayout:
        rows: 2
        spacing: [0, self.width // 20]
        padding: [self.width // 4, self.width // 28, self.width // 4, self.width // 57]


        Label:
            markup: True
            text: '[b][color=#FF0000]Monopoly[/color][/b]'
            font_size: self.width // 4
            outline_color: 0,0,0,1
            outline_width: '5sp'
            size_hint_y: 0.3

        GridLayout:
            rows: 5
            size_hint_y: 1.8
            spacing: [0, self.width // 40]
            Button:
                text: "[b][color=#ffffff]Play Local[/b][/color]"
                background_normal: "assets/buttons/red.png"
                markup: True
                font_size: self.width // 20
                outline_color: 0,0,0,1
                outline_width: '2sp'
                canvas.before:
                    Color:
                        rgba: .1, .1, .1, 1
                    Line:
                        width: 5
                        rectangle: self.x, self.y, self.width, self.height
                on_release:
                    app.root.current = "lobby"

            Button:
                text: "[b][color=#ffffff]Play LAN (COMING SOON!)[/b][/color]"
                markup: True
                font_size: self.width // 20
                disabled: True
                background_normal: "assets/buttons/red.png"
                background_disabled_normal: "assets/buttons/light_grey.jpg"
                outline_color: 0,0,0,1
                outline_width: '2sp'
                canvas.before:
                    Color:
                        rgba: .1, .1, .1, 1
                    Line:
                        width: 5
                        rectangle: self.x, self.y, self.width, self.height
                on_release:
                    app.root.current = "lobby"
            Button:
                text: "[b][color=#ffffff]Play Online (COMING SOON!)[/b][/color]"
                markup: True
                font_size: self.width // 20
                disabled: True
                background_normal: "assets/buttons/red.png"
                background_disabled_normal: "assets/buttons/light_grey.jpg"
                outline_color: 0,0,0,1
                outline_width: '2sp'
                canvas.before:
                    Color:
                        rgba: .1, .1, .1, 1
                    Line:
                        width: 5
                        rectangle: self.x, self.y, self.width, self.height
                on_release:
                    app.root.current = "lobby"
            Button:
                text: "[b][color=#ffffff]Help & Feedback[/b][/color]"
                background_normal: "assets/buttons/red.png"
                markup: True
                font_size: self.width // 20
                outline_color: 0,0,0,1
                outline_width: '2sp'
                canvas.before:
                    Color:
                        rgba: .1, .1, .1, 1
                    Line:
                        width: 5
                        rectangle: self.x, self.y, self.width, self.height
                on_release:
                    app.root.current = "feedback"
            Button:
                text: "[b][color=#ffffff]Exit[/b][/color]"
                background_normal: "assets/buttons/red.png"
                markup: True
                font_size: self.width // 20
                outline_color: 0,0,0,1
                outline_width: '2sp'
                canvas.before:
                    Color:
                        rgba: .1, .1, .1, 1
                    Line:
                        width: 5
                        rectangle: self.x, self.y, self.width, self.height
                on_release:
                    app.get_running_app().stop()





