<TradePop@Popup>:
    size_hint: (None, None)
    size: (Window.width//2, Window.height//2)
    separator_height: 0
    background: "assets/background/card.jpg"
    auto_dismiss: False

    GridLayout:
        rows: 2
        spacing: [0, root.width // 30]
        GridLayout:
            cols: 2
            size_hint_y: 0.8
            spacing: [root.width // 50, 0]
            padding: [root.width//30, 0, root.width//30, 0]
            GridLayout:
                rows: 3

                Button:
                    id: select_name_btn_left
                    text: "[b][color=#ffffff]SELECT PLAYER NAME[/b][/color]"
                    background_normal: "assets/buttons/red.png"
                    size_hint_y: 0.1
                    outline_color: 0,0,0,1
                    outline_width: 1
                    markup: True
                    size_hint_y: 0.1
                    canvas.before:
                        Color:
                            rgba: .1, .1, .1, 1
                        Line:
                            width: 3
                            rectangle: self.x, self.y, self.width, self.height

                GridLayout:
                    cols: 3
                    size_hint_y: 0.2

                    Label:
                        size_hint_x: 0.45
                        text: "[b][color=#000000]Trade Money: [/b][/color]"
                        markup: True

                    Slider:
                        id: left_slider
                        orientation: 'horizontal'
                        min: 0
                        max: 1500
                        step: 1

                    Label:
                        id: left_slider_value
                        size_hint_x: 0.1
                        text: "[b][color=#000000]$" + str(int(left_slider.value)) + "[/b][/color]"
                        markup: True

                ScrollView:
                    id: left_property_scrollview
                    do_scroll_y: True
                    do_scroll_x: True

                    GridLayout:
                        id: left_property_container
                        cols: 1
                        size_hint_y: None
                        row_force_default: True
                        row_default_height: '44sp'
                        height: self.minimum_height
                        padding: [self.width//20, self.width//20, self.width//20, self.width//20]
                        spacing: [0,self.width//20]

                        Label:
                            id: left_remove_label

            GridLayout:
                rows: 3
                Button:
                    id: select_name_btn_right
                    text: "[b][color=#ffffff]SELECT PLAYER NAME[/b][/color]"
                    background_normal: "assets/buttons/red.png"
                    size_hint_y: 0.1
                    outline_color: 0,0,0,1
                    outline_width: 1
                    markup: True
                    size_hint_y: 0.1
                    canvas.before:
                        Color:
                            rgba: .1, .1, .1, 1
                        Line:
                            width: 3
                            rectangle: self.x, self.y, self.width, self.height

                GridLayout:
                    cols: 3
                    size_hint_y: 0.2

                    Label:
                        size_hint_x: 0.45
                        text: "[b][color=#000000]Trade Money: [/b][/color]"
                        markup: True

                    Slider:
                        id: right_slider
                        orientation: 'horizontal'
                        min: 0
                        max: 1500
                        step: 10

                    Label:
                        id: right_slider_value
                        size_hint_x: 0.1
                        text: "[b][color=#000000]$" + str(int(right_slider.value)) + "[/b][/color]"
                        markup: True

                ScrollView:
                    id: right_property_scrollview
                    do_scroll_y: True
                    do_scroll_x: True

                    GridLayout:
                        id: right_property_container
                        cols: 1
                        size_hint_y: None
                        row_force_default: True
                        row_default_height: '44sp'
                        height: self.minimum_height
                        padding: [self.width//20, self.width//20, self.width//20, self.width//20]
                        spacing: [0,self.width//20]

                        Label:
                            id: right_remove_label

        GridLayout:
            cols: 2
            spacing: [root.width // 30, 0]
            padding: [root.width//30, 0, root.width//30, root.width//80]
            size_hint_y: 0.15

            Button:
                id: accept_btn
                text: "[b][color=#ffffff]ACCEPT[/b][/color]"
                markup: True
                background_normal: "assets/buttons/red.png"
                background_disabled_normal: "assets/buttons/light_grey.jpg"
                canvas.before:
                    Color:
                        rgba: .1, .1, .1, 1
                    Line:
                        width: 5
                        rectangle: self.x, self.y, self.width, self.height
                on_release:
                    root.accept()

            Button:
                text: "[b][color=#ffffff]BACK TO GAME[/b][/color]"
                markup: True
                background_normal: "assets/buttons/red.png"
                canvas.before:
                    Color:
                        rgba: .1, .1, .1, 1
                    Line:
                        width: 5
                        rectangle: self.x, self.y, self.width, self.height

                on_release:
                    root.dismiss()

<PropertyButton@Button>

    canvas.before:
        Color:
            rgba: .1, .1, .1, 1
        Line:
            width: 5
            rectangle: self.x, self.y, self.width, self.height
